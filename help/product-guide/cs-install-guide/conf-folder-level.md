---
title: 配置全局或文件夹级别的配置文件
description: 了解如何配置全局或文件夹级别的配置文件
exl-id: 19f63d67-89ef-4c5e-bc9a-cf40dd8d7979
source-git-commit: 5e0584f1bf0216b8b00f00b9fe46fa682c244e08
workflow-type: tm+mt
source-wordcount: '3967'
ht-degree: 0%

---

# 配置全局或文件夹级别的配置文件 {#id181AH2003PF}

在企业中，不同的组或产品可能使用不同的创作模板、输出模板、条件属性配置文件\（或主题方案\）和Web编辑器配置。 仅在企业\（或全局\）级别配置这些组件会让作者难以获得体验，因为他们会看到与其无关的模板或配置文件。

AEM Guides允许您在企业\(global\)级别和文件夹级别配置创作\（topic或map\）模板、输出模板、条件属性和Web编辑器配置。 这样，您就可以分离企业中不同部门或产品的配置。

此外，您还可以将特定于文件夹的配置委派给部门或产品管理员，以分散管理。

使用“参考线”设置中的“文件夹配置文件”图块，您可以在以下选项卡下配置设置：

![](assets/folder-profile-tabs.png){width="800" align="left"}

- **常规**：常规选项卡仅在配置文件夹级别\（或项目/产品\）设置时可用。 您可以配置设置，例如将应用这些设置的文件夹路径以及具有创建或更新配置的管理权限的用户。

- **条件属性**：使用此选项卡可在全局或文件夹级别配置条件属性。 条件属性是属性名称和值的组合，您还可以为其定义标签。 您可以使用标准DITA属性或您自己的自定义属性。 您在全局级别定义的条件属性将提供给项目中的所有用户。 如果定义了文件夹级别的条件属性，则这些属性将与全局定义的条件属性合并。

- **模板**：使用此选项卡配置作者将用于创建或发布DITA内容的模板。 以下主题模板是现成可用的：

   - 术语表

   - 引用

   - 主题

   - 概念

   - 任务

   - 疑难解答

   - 空白

   - DITAVAL

  >[!NOTE]
  >
  > 您可以使用任何现有模板作为创建新模板的基础。 空白DITA模板不包含与其它模板类似的任何结构或元素。 您可以使用任何OOTB DITA模板作为基础，对其进行修改并使用其他名称保存它。 完成所需的更改后，将更新的模板添加到全局或文件夹级别的创作模板配置，然后该模板便可用于创作。

  除了主题模板之外，您还可以定义提供给作者的映射模板。 以下映射模板是现成可用的：

   - 地图

   - 书图

- **输出预设**：与模板类似，有五个预配置的输出预设：

   - AEM站点

   - PDF

   - HTML5

   - ePub

   - 自定义

  发布者可以使用这些现成的输出预设来发布内容。 这些预设可由全局或文件夹级别配置文件的管理员配置。 配置后，发布预设将可供发布者用于新创建的DITA映射。 您还可以将发布预设应用于现有DITA映射，请参见 [应用预设更改](#id18AGD0K0OHS) 以了解更多详细信息。

- **XML编辑器配置**：使用此选项卡可自定义Web编辑器的外观和各种功能。 以下可配置设置可用于Web编辑器：

   - XML编辑器UI配置
   - CSS模板布局
   - XML编辑器代码片段
   - XML内容版本标签
   - Rootmap \（仅在文件夹级别\）

您可以同时配置全局配置文件和文件夹级别的配置文件。 在文件夹级别的配置文件中，您可以定义将应用设置的文件夹。 这些设置包括条件属性、模板、输出预设和XML编辑器设置。 条件预设、模板和XML编辑器配置随后将提供给在配置的文件夹中工作的作者。 同样，发布者将有权访问在配置的文件夹中定义的配置的输出预设。

文件夹级别的配置文件将覆盖在全局配置文件中配置的设置。 换言之，如果文件夹具有文件夹级别的配置文件，则将显示在其相应的文件夹配置文件中配置的模板、输出模板和XML编辑器设置。 它不会显示全局配置文件中配置的设置。 但是，这不适用于条件属性。 对于条件属性，条件属性在全局和文件夹级别合并。

以下部分将指导您完成配置全局配置文件和文件夹级别配置文件的过程。

## 配置全局配置文件

执行以下步骤来配置全局配置文件：

1. 以管理员身份登录Adobe Experience Manager。

1. 单击顶部的Adobe Experience Manager链接，然后选择 **工具**.

1. 选择 **指南** 从工具列表中，单击 **文件夹配置文件**.

   首次只显示“文件夹配置文件”页面和“全局配置文件”拼贴。

   ![](assets/folder-profile-global.png){width="800" align="left"}

1. 单击 **全局配置文件** 磁贴。

1. 配置 **条件属性**，请参见 [为全局或文件夹级别的配置文件配置条件属性](#id1889D0I305Z).

1. 配置 **模板**，请参见 [配置创作模板](#id1889D0IL0Y4).

1. 配置 **输出预设**，请参见 [配置输出预设](#id18AGD0IH0Y4).

1. 要配置XML编辑器配置，请参见 [配置和自定义XML Web编辑器](#id2065G300O5Z).

1. 完成所有必需的更新后，保存并关闭 **全局配置文件**.


## 创建和配置文件夹级别的配置文件

执行以下步骤可配置文件夹级别的配置文件：

1. 以管理员身份登录Adobe Experience Manager。

1. 单击顶部的Adobe Experience Manager链接，然后选择 **工具**.

1. 选择 **指南** 从工具列表中，单击 **文件夹配置文件** 磁贴。

   首次显示“文件夹配置文件”页面，其中仅显示默认的“全局配置文件”拼贴。

1. 单击&#x200B;**创建**。

   ![](assets/create-folder-profile.png){width="300" align="left"}

1. 在“ ”中输入以下详细信息 **创建文件夹配置文件** 对话框：
   - 文件夹配置文件的名称。
   - 将应用配置文件的文件夹的路径。

     >[!NOTE]
     >
     > 您不能在一个文件夹中应用多个文件夹配置文件。 请确保您在此处选择的文件夹没有应用任何其他配置文件。 如果父子文件夹具有自己的特定配置文件，则子文件夹将使用来自其自身配置文件的配置。 父文件夹中的配置不会覆盖子文件夹的配置。

1. 单击&#x200B;**创建**。

   在“文件夹配置文件”页面中创建一个名为文件夹配置文件的新图块

1. 单击要编辑的文件夹配置文件拼贴。

   此时将显示一个常规选项卡，其中包含文件夹配置文件的名称和配置的文件夹信息。

1. 单击 **编辑** 以添加多个文件夹和具有修改文件夹配置文件的管理访问权限的用户。

   >[!NOTE]
   >
   > 您在此处添加的用户将具有管理权限，可以更新为此文件夹配置文件配置的条件属性、模板和输出预设。

1. 要添加文件夹，请单击“文件夹路径”中的“浏览”图标，导航到某个文件夹并将其选定，然后单击“添加”将该文件夹添加到此配置文件中。

   >[!NOTE]
   >
   > 请确保您在此处选择的文件夹没有与其关联的任何其他文件夹级配置文件。

1. 要添加用户，请从 **管理员用户** 下拉列表，然后单击 **添加**.

   >[!NOTE]
   >
   > 您可以从下拉列表中向文件夹配置文件添加多个用户。 您也可以通过单击用户ID旁边的删除图标，从列表中删除现有管理员用户。

1. 将所有必需文件夹和用户添加到文件夹配置文件后，单击 **保存**.


现在，您可以配置条件属性、模板、输出预设和XML编辑器。

>[!IMPORTANT]
>
> 创建文件夹配置文件时，默认不包含任何模板。 您必须在文件夹配置文件中添加所需的模板，以便作者能够使用这些模板。

## 为全局或文件夹级别的配置文件配置条件属性 {#id1889D0I305Z}

执行以下步骤以在全局或文件夹级别配置标准DITA支持的条件属性：

1. 以管理员或具有文件夹级别配置文件管理权限的用户身份登录Adobe Experience Manager。

1. 单击顶部的Adobe Experience Manager链接，然后选择 **工具**.

1. 选择 **指南** 从工具列表中，单击 **文件夹配置文件** 磁贴。

1. 单击要配置的配置文件拼贴。

   >[!NOTE]
   >
   > 您可以选择在全局配置文件或文件夹级别的配置文件中配置条件属性。

1. 在配置文件页面上，单击 **条件属性** 选项卡。

1. 单击 **编辑**.

1. 单击 **添加**.

1. 输入 **名称**， **值**，和 **标签** 用于条件属性。

   您可以保存仅具有属性名称的配置文件。 但是，仅当属性具有指定的值时，才能使用属性。 如果为属性指定 — 值和标签，则Web编辑器将显示条件属性的标签。 此外，在创建条件预设时还会向发布管理员显示标签。

   以下屏幕截图显示了的定义 `platform` 具有可能值和标签的属性。

   ![](assets/add_profile.png)

1. 如果要为同一属性添加更多值，请单击 **+** 图标，然后输入其他值和标签。

1. 如果要添加更多属性，请单击 **添加**.

1. 单击&#x200B;**保存**。


如果使用自定义属性，则它必须是DTD支持的有效DITA属性。 如果要使用任何属性（不是标准DITA属性），则执行以下附加步骤：

1. 将自定义属性添加到DTD文件中。 例如，如果DTD文件是commonElements.mod，则需要在DTD目录中查找此文件。 系统DTD文件的缺省路径为：

   /libs/fmdita/dita\_resources/DITA-1.3/dtd/base/dtd/commonElements.mod

   >[!IMPORTANT]
   >
   > 专用的DTD文件应是自定义代码部署的一部分。 /apps下的DTD是产品部署的一部分，因此将被任何新版本的安装覆盖。 建议在项目文件夹的/var/dxml/dita\_resources下添加专用的DTD，并在DITA配置文件中包含DTD/catalog路径。有关详细信息，请参阅 [集成DITA专业化](dita-ot-specialization.md#id211MB0E00XA).

1. 使用包管理器下载/libs/fmdita/config/condAttrList.xml文件：

1. 在Cloud Manager的Git存储库中的以下位置创建condAttrList.xml文件的副本：

   `/apps/fmdfmdita/config/condAttrList.xml`

1. 保存文件。

1. 将自定义属性添加到全局或文件夹级别的配置文件。


## 配置模板 {#id1889D0IL0Y4}

AEM Guides提供了7个现成的主题模板、2个DITA映射模板和3个PDF模板。 您可以选择只向作者和发布者提供几个模板。 如果您使用自定义模板，则可以配置该模板并使其可用于创作和发布。 您使用 **模板** 选项卡，在全局或文件夹级别的配置文件中添加或删除主题、映射或PDF模板。

即使在全局或文件夹级别配置主题、映射或PDF模板之前，您还可以定义存储自定义模板的位置。 要配置用于存储模板的自定义位置，请参阅 [配置自定义DITA模板文件夹路径](conf-template-tags-custom-dita-topic-template.md#id191LCF0095Z).

执行以下步骤，将主题、映射或PDF模板添加到文件夹配置文件中：

1. 以管理员或具有文件夹级别配置文件管理权限的用户身份登录Adobe Experience Manager。

1. 单击顶部的Adobe Experience Manager链接，然后选择 **工具**.

1. 选择 **指南** 从工具列表中，单击 **文件夹配置文件** 磁贴。

1. 单击要配置的配置文件拼贴。

   >[!NOTE]
   >
   > 您可以选择在全局配置文件或文件夹级别的配置文件中配置模板。

1. 在配置文件页面上，单击 **模板** 选项卡。
1. 单击 **编辑**.

   通过从默认位置搜索或浏览来获取添加“主题”、“映射”和“PDF”模板的选项。

   >[!NOTE]
   >
   > 默认情况下，所有模板都存储在/content/dam/dita-templates文件夹中。 此 `dita-templates` 文件夹包含 `topics`， `maps`、和 `PDF` 子文件夹用于存储主题、映射和PDF模板。 您可以将自定义模板\(.dita、.xml或.ditamapfiles\)添加到默认模板文件夹中。 将模板添加到默认文件夹后，便可以将它们添加到全局或文件夹配置文件中。 有关使用Web编辑器创建自定义模板的详细信息，请参阅 [创建自定义创作模板](#id1917D0EG0HJ).

   ![](assets/search-author-temp.png){width="800" align="left"}

1. 将所需主题、映射和PDF模板添加到您的配置文件。

   要添加模板，请执行以下操作之一：

   - 选择 **搜索或类型** 并从下拉列表中选择模板的名称。 下拉列表包含所有默认模板以及您创建的任何新模板。

     ![](assets/default-template-list.png){width="800" align="left"}

   - 单击 **浏览** 并从DAM中选择模板。

1. 单击 **添加**.

   选定的模板即添加到模板列表中。

   ![](assets/author-templ-added-list.png){width="800" align="left"}

   >[!NOTE]
   >
   > 可以通过将模板拖放到列表中的所需位置来更改模板的顺序。 模板的位置控制它们在主题或映射创建工作流的Blueprint页面中的显示顺序。

1. 要设置翻译规则，请浏览SRX位置以查找包含SRX文件的文件夹。 SRX \（分段规则交换\）格式是在不同用户和不同翻译环境之间交换分段规则的标准。 您可以创建一个文件夹并将自定义SRX文件添加到其中。

   创建包含SRX文件的文件夹后，可以将文件夹路径添加到 **翻译SRX位置**&#x200B;文件夹配置文件中的配置。

   AEM Guides根据翻译项目的源语言选择SRX规则。 它会查找某种语言的自定义SRX文件，如果您未定义自定义SRX文件，则它会根据现成的翻译规则选取规则。

1. 单击&#x200B;**保存**。


如果您在文件夹级别的配置文件上配置了模板，则配置的模板将与配置的文件夹关联。 在配置的文件夹下创建的所有项目将只能访问在文件夹级别的配置文件下配置的那些模板。

## 创建自定义创作模板 {#id1917D0EG0HJ}

AEM Guides提供了一种创建创作模板的简单方法。 作为系统管理员，您可以使用Web编辑器从头开始创建创作模板。 然后，您可以在全局配置文件中添加新模板，或使用文件夹特定的配置文件将其分配给特定文件夹。

执行以下步骤可创建自定义创作模板：

1. 以管理员身份登录Adobe Experience Manager。

1. 在Assets UI中，导航到配置为存储模板文件的文件夹。 默认情况下，所有主题模板都存储在/content/dam/dita-templates/topics文件夹中。

   >[!NOTE]
   >
   > 要配置用于存储主题或映射模板的自定义位置，请参阅 [配置自定义DITA模板文件夹路径](conf-template-tags-custom-dita-topic-template.md#id191LCF0095Z)

1. 单击 **创建** \> **DITA模板**.

1. 在Blueprint页面上，选择要创建的DITA主题模板的类型。

   >[!NOTE]
   >
   > 您可以使用“空白”模板从头开始。 空白模板中没有任何结构或元素。

1. 单击&#x200B;**下一步**。

1. 在新模板的“属性”页面上，输入 **标题**， **名称**、和 **描述** 用于模板。

   >[!NOTE]
   >
   > 系统会根据模板的标题自动建议该名称。 如果要手动指定名称，请确保“名称”不包含任何空格、撇号或大括号，且以.dita结尾。

1. *\（可选\）* 单击 **添加缩略图** 按钮以浏览并选择要与模板关联的缩略图。

1. 单击&#x200B;**创建**。

   此时将显示“创建的主题”消息。

   您可以选择在Web编辑器中打开模板进行编辑，或将模板文件保存在模板存储位置。 创建模板后，您可以使用Web编辑器根据创作需求自定义模板。 建立模板后，请确保将其与全局或文件夹级别的配置文件相关联。


## 配置输出预设 {#id18AGD0IH0Y4}

在典型的企业设置中，不同的输出模板可用于不同的产品或用户指南。 此外，还可以有一些可供所有发布者使用的通用输出生成流程，以及一组用于特定发布者组或项目的特定输出生成流程。

AEM Guides允许管理员使用特定设置创建输出预设，然后所有发布者或特定发布者集可以使用该预设生成输出。 例如，管理员可以创建一个输出预设，以生成所有发布者通用的用户指南。 另外一种是创建特定于发行商的编程用户手册。 这两个预设都可以配置为使用不同的输出模板。 在此示例中，可在全局级别配置用于生成用户指南的通用发布预设。 而且，可在文件夹级别配置用于生成编程用户手册的输出预设。

在系统中创建了默认输出预设后，在此之后创建的所有DITA映射都将使用默认预设生成输出。 但是，所有现有DITA映射将继续使用先前使用它们配置的输出预设。 如果要对所有现有DITA映射应用新的输出预设，则需要运行应用预设更改工作流。

除了在全局或企业级别配置的预设外，发布者还有权创建更多输出预设。 但是，这些预设与为其创建的DITA映射相关联。 有关为DITA映射创建常规输出预设的更多详细信息，请参见 *创建、编辑、复制或删除输出预设* 《使用Adobe Experience Manager Guidesas a Cloud Service指南》中的。

执行以下步骤可配置全局或文件夹特定的输出预设：

1. 以管理员或具有文件夹特定配置文件的管理权限的用户身份登录Adobe Experience Manager。

1. 单击顶部的Adobe Experience Manager链接，然后选择 **工具**.

1. 选择 **指南** 从工具列表中，单击 **文件夹配置文件** 磁贴。

1. 单击要配置的配置文件拼贴。

   >[!NOTE]
   >
   > 您可以选择在全局配置文件或文件夹特定的配置文件中配置输出预设。

1. 在用户档案页面上。 单击 **输出预设** 选项卡。

   随即会显示现成的输出预设列表，其中包括“AEM站点”、“PDF”、“HTML5”、“EPUB”和“自定义”。

1. 执行以下操作之一以创建或编辑输出预设：

   - 单击 **创建** 从头开始创建新的输出预设。
   - 单击复制以创建所选输出预设的副本。 您可以对重复预设进行更改并将其保存。

   - 单击 **编辑** 打开所选预设的配置以进行编辑。

     有关输出预设设置的信息，请参阅 *了解输出预设* 《使用Adobe Experience Manager Guidesas a Cloud Service指南》中的。

1. 单击 **保存** 以保存预设设置。


在此之后创建或上传的所有DITA映射都将具有新的或更新后的输出预设。

## 应用预设更改 {#id18AGD0K0OHS}

在全局级别创建的新输出预设可用于以后创建的所有新DITA映射。 同样，如果在文件夹级别创建新的输出预设，则该预设可用于将在配置的文件夹中创建的所有映射。 默认情况下，新的输出预设不可用于任何现有DITA映射。

如果更新了现有的输出预设，或者希望使新的输出预设可用于现有DITA映射，则执行以下步骤：

1. 以管理员或具有文件夹特定配置文件的管理权限的用户身份登录Adobe Experience Manager。

1. 单击顶部的Adobe Experience Manager链接，然后选择 **工具**.

1. 选择 **指南** 从工具列表中，单击 **文件夹配置文件** 磁贴。

1. 单击要配置的配置文件拼贴。

   >[!NOTE]
   >
   > 您可以选择在全局配置文件或文件夹特定的配置文件中配置输出预设。

1. 在用户档案页面上。 单击 **输出预设** 选项卡。

   随即会显示现成的输出预设列表，其中包括“AEM站点”、“PDF”、“HTML5”、“EPUB”和“自定义”。

1. 选择要应用于现有DITA映射的输出预设。

1. 单击 **应用预设更改** 在主工具栏中。

1. 在“应用预设更改”对话框中，您可以选择以下选项：

   - **选择“覆盖现有预设”选项**：如果选择此选项，则您在现有输出预设中所做的任何更新都将覆盖使用该预设的所有现有DITA映射中的设置。 但是，这样做会导致与地图关联的任何现有条件预设和基线信息丢失。

   - **未选择“覆盖现有预设”选项**：如果不选择此选项，则您在现有输出预设中所做的任何更新都不会影响现有DITA映射。 只有新添加的预设会添加到现有DITA映射中。 请注意，新创建的DITA映射同时获得更新的输出预设和新添加的预设。

1. 单击 **确定** 将所选输出预设中的更改应用于所有现有DITA映射。


## 配置和自定义XML Web编辑器 {#id2065G300O5Z}

默认情况下，XML Web编辑器附带了许多功能来帮助作者创建DITA文档。 如果您在受限的环境中工作，则可以选择向作者公开哪些功能。 利用XML编辑器配置选项卡，可以轻松控制功能并更改Web编辑器的外观。 作为管理员，您可以自定义Web编辑器的以下组件：

**XML编辑器UI配置**

此设置控制Web编辑器的工具栏和其他用户界面元素。 单击“下载”图标可在本地系统上下载ui\_config.json文件。 然后，您可以对文件做出更改并上传相同的文件。 根据您上传文件的位置（全局或文件夹级别的配置文件），将相应地应用更改。 有关如何使用ui\_config.json文件自定义XML编辑器的更多详细信息，请参阅 [自定义工具栏](conf-web-editor-customize-toolbar.md#).

**CSS模板布局**

下载此部分中可用的文件，以自定义在Web编辑器中预览或打开文档进行编辑时的文档外观。 可供下载的默认CSS文件只是一个测试文件，不应将其用于自定义。 您可以创建包含针对Web编辑器的自定义项的CSS文件并上传它们。 例如，您可以创建一个.css文件，其代码如下：

```
.title {    font-size: 9em;}
```

保存此文件并将其上载到“CSS模板布局”部分。 下次下载文件时，您将获得在Web编辑器中使用的最新CSS文件。

**XML编辑器代码片段**

使用本节中的配置文件，您可以创建一些默认代码片段并与作者共享。 文件的默认结构如下所示：

```
{
   "snippetID": {
      "name": "snippet Name",
      "description": "snippet Description",
      "value": "<i>this is snippet value</i>"
  }
}
```

创建代码片段需要以下详细信息：

snippetID ：代码片段的唯一ID。 它可以采用字母数字值。

名称：用于标识代码片段的描述性名称。 此名称显示在“代码片段”面板中。

描述：为代码片段添加描述性信息。

值：提供代码片段的XML代码。

>[!NOTE]
>
> 您可以在代码片段定义末尾添加逗号\(，\)，并为下一个代码片段重复相同的结构，从而添加更多代码片段。

**XML内容版本标签**

默认情况下，允许作者创建自己选择的标签，并将它们与主题文件相关联。 但是，这可能会导致同一标签出现多种变化，例如，可能会有“版本1.0”、“版本1.0”、“版本1”标签，用于标识主题的同一阶段。 为了避免系统中出现此类标签不一致的情况，您可以创建一个预定义的标签列表，以供作者从中进行选择。 具有一致的标签可帮助更好地管理系统中的文件。

使用版本标签配置，您可以上传适用于贵组织的有效标签列表。 下载默认的label.json文件并进行修改，如下所示：

```
{
"label1":"Draft",
"label2":"PM-Review",
"label3":"Engg-Review",
"label4":"QE-Review",
"label5":"Ready for Loc",
"label6":"Ready for Publish"
}
```

在上例中，“label1”是标签序列的标识符，该标识符附加有标签，在需要标签时，作者将看到该标签。 保存此文件并将其上载到“XML内容版本标签”部分。

>[!IMPORTANT]
>
> 要使文件夹级别的配置生效，用户需要在Web编辑器中选择其用户首选项下的配置文件。

**Rootmap**

如果您的作者使用特定的根映射，则可以在此处浏览并选择该根映射。 请注意，您只能为文件夹级别的配置文件定义根映射。
