---
title: 配置文档状态
description: 了解如何配置文档状态
exl-id: d7603b4e-aae4-48ca-be84-8edb51626405
feature: Document State
role: Admin
level: Experienced
source-git-commit: 0513ecac38840a4cc649758bd1180edff1f8aed1
workflow-type: tm+mt
source-wordcount: '1131'
ht-degree: 0%

---

# 配置文档状态 {#id181GB0400UI}

AEM Guides允许您根据组织的要求为DITA主题定义文档状态。 您可以定义文档从开始到结束的不同状态。 例如，第一个状态可以是“草稿”，它可以移至“审阅”、“已批准”、“已翻译”，最后移至“已发布”。

主题可通过两种方式从一种状态转换到另一种状态：手动和自动。 在配置文件中定义的文档状态可用于手动更改文档状态。 可以从主题文件的“属性”页完成此操作。 此外，您可以定义谁可以将文档从一个状态移动到另一个状态。 例如，作者可以创建文档，文档的默认状态可以是草稿。 当作者发送文档以供审阅时，她可以将文档状态更改为“正在审阅”。 审阅者可以根据审阅过程将文档状态再次更改为“已批准”或“草稿”。 如果文档为“已批准”，发布者可以根据工作流将文档状态更改为“已翻译”或“已发布”。

>[!NOTE]
>
> 如果用户属于&#x200B;*管理员*&#x200B;组，则该用户可以更改文档的任何状态，而不管系统中定义的文档状态转换。

## 创建文档状态

AEM Guides附带一组默认文档状态。 这些状态包括：

- 草稿
- 编辑
- 正在审核
- 已批准
- 已审核
- 完成

这些默认状态适用于在DAM下创建的所有DITA主题。 您可以创建自己的文档状态，并将这些状态分配给特定文件夹。 然后，在该文件夹下创建的所有DITA文件都将有权访问新创建的文档状态。

要使用“Folder Profile（文件夹配置文件）”创建文档状态，请执行以下步骤：

1. 单击顶部的Adobe Experience Manager链接，然后选择&#x200B;**工具**。
1. 从工具列表中选择&#x200B;**指南**。
1. 单击“文档状态”拼贴。

   “Assets状态”页面。 默认情况下，该页面会显示默认配置文件。

1. 单击&#x200B;**创建配置文件**&#x200B;并输入以下详细信息：
   - 在“配置文件”字段中输入配置文件的名称。
   - 指定要应用新配置文件的路径。
   - 在&#x200B;**状态**&#x200B;下指定&#x200B;**允许状态**&#x200B;中的文档状态。 默认文档状态为“草稿”、“编辑”、“正在审阅”、“已批准”和“完成”。-

     单击&#x200B;**添加**&#x200B;按钮添加文档状态。

      - 单击“删除”图标可删除文档状态。

     >[!NOTE]
     >
     > 如果文档仍然处于某个状态，请勿删除该文档状态。 如果删除文档状态，除非您属于&#x200B;*管理员*&#x200B;用户组，否则将无法更改此类文档的文档状态。

   - 指定处于&#x200B;**开始状态**&#x200B;的文档的开始状态。
   - 指定处于&#x200B;**结束状态**&#x200B;的文档的结束状态。
   - 在&#x200B;**状态转换**&#x200B;下指定&#x200B;**从**&#x200B;到&#x200B;**到**&#x200B;中的文档状态转换。

      - 指定可以在&#x200B;**组**&#x200B;中更改文档状态的用户和用户组。

      - 单击&#x200B;**添加**&#x200B;按钮添加状态转换。

      - 单击“删除”图标可删除状态转换。

     >[!NOTE]
     >
     > 如果文档仍处于`From`状态，请勿删除状态转换。 如果您删除状态转换，则除非您属于&#x200B;*管理员*&#x200B;用户组，否则您将无法更改此类文档的文档状态。

1. 单击&#x200B;**完成**。

## 创建文档状态配置文件的副本

您可以根据需要创建现有文档状态配置文件的副本。 您可以使用副本作为创建另一个文档配置文件的基础。

要创建文档状态配置文件的副本，请执行以下步骤：

1. 单击顶部的Adobe Experience Manager链接，然后选择&#x200B;**工具**。
1. 从工具列表中选择&#x200B;**指南**。
1. 单击“文档状态”拼贴。

   “Assets状态”页面。

1. 选择要复制的文档状态配置文件，然后单击&#x200B;**复制配置文件**。
1. 进行所需更改并单击&#x200B;**完成**。

## 删除文档状态或状态转换

>[!NOTE]
>
> 如果文档仍然处于状态或状态转换，请勿删除文档状态或状态转换。 如果删除状态或状态转换，除非您属于&#x200B;*管理员*&#x200B;用户组，否则将无法更改此类文档的文档状态。

执行以下步骤以从文档状态配置文件中删除文档状态或状态转换：

1. 单击顶部的Adobe Experience Manager链接，然后选择&#x200B;**工具**。
1. 从工具列表中选择&#x200B;**指南**。
1. 单击“文档状态”拼贴。

   “Assets状态”页面。

1. 选择要从中删除文档状态的文档状态配置文件，然后单击&#x200B;**编辑配置文件**。
1. 删除文档状态或状态转换，然后单击&#x200B;**完成**。

## 删除文档状态配置文件

要删除文档状态配置文件，请执行以下步骤：

1. 单击顶部的Adobe Experience Manager链接，然后选择&#x200B;**工具**。
1. 从工具列表中选择&#x200B;**指南**。
1. 单击“文档状态”拼贴。

   “Assets状态”页面。

1. 选择要删除的文档状态配置文件，然后单击&#x200B;**删除配置文件**。

## 自动更改文档状态

如果您不想手动更改文档状态，则可以创建工作流并自动更改文档状态。

>[!NOTE]
>
> 自动化工作流应与配置中定义的文档状态和过渡保持一致。 系统不会执行任何检查通过自动工作流完成的状态更改。

执行以下步骤以自动更改文档状态：

1. 从AEM服务器URL打开工作流页面。

   `<AEM_Server_URL>:<port>/workflow`

1. 从工作流页面打开工作流。 例如，审阅主题。
1. 从AEM对话框的&#x200B;**工作流**&#x200B;部分中选择&#x200B;**处理步骤**，并拖放到工作流上。

   ![](assets/process-step-workflow.png)

1. 双击该进程并打开&#x200B;**步骤属性**&#x200B;对话框。
1. 在对话框的&#x200B;**进程**&#x200B;选项卡中输入以下详细信息，然后单击“确定”：
   - 从“流程”下拉列表中选择&#x200B;**设置任何DAM资产的文档状态**。
   - 选中处理程序前进复选框。
   - 在&#x200B;**参数**&#x200B;文本框中输入文档状态的名称。

     >[!NOTE]
     >
     > 确保在“参数”文本框中输入正确的文档状态。 如果输入的名称错误，文档将被设置为错误的文档状态。

1. 单击&#x200B;**保存**&#x200B;以保存工作流。

## 启用审批工作流

AEM Guides提供文档审批工作流程，帮助您控制文档开发流程的生命周期。 要启用审批工作流，请执行以下步骤：

1. 登录AEM并打开CRXDE Lite模式。

1. 导航到以下位置提供的默认配置文件：

   `/libs/fmdita/clientlibs/clientlibs/xmleditor/ui_config.json`

1. 在以下位置创建默认配置文件的副本：

   `/apps/fmdita/xmleditor/ui_config.json`

1. 导航到`apps`节点中的`ui_config.json`文件并将其打开以进行编辑。

1. 在`ui_config.json`文件中，通过更改&#x200B;*功能*&#x200B;部分启用审批工作流功能，如下所示：

   ```json
   "features":  
   { 
      "approvalWorkflow":  true 
   }
   ```
